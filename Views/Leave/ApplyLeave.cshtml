@model IEnumerable<dynamic>

@if (TempData["success"] != null)
{
	<div class="alert alert-success">
		@TempData["success"]
	</div>
}

@if (TempData["error"] != null)
{
	<div class="alert alert-danger">
		@TempData["error"]
	</div>
}



<div class="d-md-flex d-block align-items-center justify-content-between page-breadcrumb mb-3">
	<div class="my-auto mb-2">
		<h2 class="mb-1">Leaves</h2>
		<nav>
			<ol class="breadcrumb mb-0">
				<li class="breadcrumb-item">
					<a href="index.html"><i class="ti ti-smart-home"></i></a>
				</li>
				<li class="breadcrumb-item">
					Employee
				</li>
				<li class="breadcrumb-item active" aria-current="page">Apply Leave</li>
			</ol>
		</nav>
	</div>
	<div class="d-flex my-xl-auto right-content align-items-center flex-wrap ">

		<div class="head-icons ms-2">
			<a href="javascript:void(0);" class="" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-original-title="Collapse" id="collapse-header">
				<i class="ti ti-chevrons-up"></i>
			</a>
		</div>
	</div>
</div>



<br />
<div class="row">
	@foreach (var item in Model)
	{
		<div class="col-xl-3 col-md-6">
			<div class="card bg-blue-le">




				<div class="card-body">
					<div class="d-flex align-items-center justify-content-between">
						<div class="text-start">
							<p class="mb-1">@item.LeaveType</p>
							<h4>@item.TotalLeaves</h4>
						</div>
						<div class="d-flex">
							<div class="flex-shrink-0 me-2">
								<span class="avatar avatar-md d-flex">
									<i class="ti ti-calendar-event fs-32"></i>
								</span>
							</div>
						</div>
					</div>
					<span class="badge bg-info-transparent">Remaining Leaves : @item.RemainingLeaves)</span>
				</div>



			</div>
		</div>

	}
</div>

<br />

<div class="card">
	<div class="card-header">
		<h3 class="card-title">Apply Leave</h3>
	</div>
	<div class="card-body">
		<form method="post" action="@Url.Action("ApplyLeave", "Leave")">
			@* <div class="form-group">
					<label for="LeaveTypeId">Leave Type</label>
					<select class="form-control" id="LeaveTypeId" name="LeaveTypeId" required>
						<option value="">Select Leave Type</option>
						@foreach (var item in Model)
						{
							<option value="@item.LeaveTypeId">@item.LeaveType</option>
						}
					</select>
				</div>

				<div class="form-group">
					<label for="StartDate">From Date</label>
					<input type="date" class="form-control" id="StartDate" name="StartDate" required />
				</div>

				<div class="form-group">
					<label for="EndDate">To Date</label>
					<input type="date" class="form-control" id="EndDate" name="EndDate" required />
				</div>
				<div class="form-group">
					<label for="Reason">Reason</label>
					<textarea class="form-control" id="Reason" name="Reason" rows="3" required></textarea>
				</div>

				<br />
				<button type="submit" class="btn btn-primary">Apply</button> *@




			<div class="row">



				<!-- Left Column -->
				<div class="col-md-6">
					<div class="form-group mb-3">
						<label class="control-label">Leave Type</label>
						<div class="input-group">
							<select class="form-control" id="LeaveTypeId" name="LeaveTypeId" required>
								<option value="">Select Leave Type</option>
								@foreach (var item in Model)
								{
									<option value="@item.LeaveTypeId">@item.LeaveType</option>
								}
							</select>
							<span class="input-group-text">
								<i class="ti ti-calendar-event"></i>
							</span>
						</div>

					</div>

					<div class="form-group mb-3">
						<label class="control-label">Start Date</label>
						<div class="input-group">
							<input type="date" class="form-control" id="StartDate" name="StartDate" required />

						</div>

					</div>


				</div>

				<!-- Right Column -->
				<div class="col-md-6">
					<div class="form-group mb-3">
						<label class="control-label">End Date</label>
						<div class="input-group">
							<input type="date" class="form-control" id="EndDate" name="EndDate" required />

						</div>

					</div>

					<div class="form-group mb-3">
						<label class="control-label">Reason</label>
						<div class="input-group">
							<textarea class="form-control" id="Reason" name="Reason" rows="3" required></textarea>

						</div>

					</div>






				</div>
			</div>


			<div class="form-group mt-3">
				<button type="submit" class="btn btn-primary">Apply</button>
				<a asp-action="ViewMyLeaveRequests" asp-controller="Leave" class="btn btn-secondary">Back to List</a>
			</div>







		</form>
	</div>
</div>