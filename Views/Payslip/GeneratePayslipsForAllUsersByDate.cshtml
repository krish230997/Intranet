@{
    ViewData["Title"] = "Generate Payslips for All Users by Date";
}

@model Payslips

@if (TempData["SuccessMessage"] != null)
{
    <script>
        alert('@TempData["SuccessMessage"]');
    </script>
}

@if (TempData["AlertMessage"] != null)
{
    <script>
        alert('@TempData["AlertMessage"]');
    </script>
}

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="card shadow-lg border-0">
                <div class="card-body">
                    <form asp-action="GeneratePayslipsForAllUsersByDate" method="post">
                        <!-- Employee Selection -->
                        <div class="form-group mb-3">
                            <label for="UserId">Select Employee</label>
                            <select id="UserId" name="UserId" asp-items="ViewBag.Users" class="form-control">
                                <option value="">-- Select Employee --</option>
                            </select>
                            <span class="text-danger" asp-validation-for="UserId"></span>
                        </div>

                        <!-- Month Selection -->
                        <div class="form-group mb-3">
                            <label for="month">Select Month</label>
                            <select id="month" name="Month" class="form-control">
                                <option value="">-- Select Month --</option>
                                <option value="January">January</option>
                                <option value="February">February</option>
                                <option value="March">March</option>
                                <option value="April">April</option>
                                <option value="May">May</option>
                                <option value="June">June</option>
                                <option value="July">July</option>
                                <option value="August">August</option>
                                <option value="September">September</option>
                                <option value="October">October</option>
                                <option value="November">November</option>
                                <option value="December">December</option>
                            </select>
                            <span class="text-danger" asp-validation-for="Month"></span>
                        </div>

                        <!-- Year Input -->
                        <div class="form-group mb-3">
                            <label for="year">Enter Year</label>
                            <input id="year" name="Year" type="number" class="form-control"
                                   value="@DateTime.Now.Year" min="2000" max="2100" required />
                            <span class="text-danger" asp-validation-for="Year"></span>
                        </div>

                        <!-- Submit Button -->
                        <div class="d-grid">
                            <button type="submit" class="btn btn-primary">
                                <i class="fas fa-file-invoice-dollar"></i> Generate Payslips
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Enable Client-Side Validation -->
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
